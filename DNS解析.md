# DNS

## DNS解析(优先走缓存)

1. 浏览器DNS缓存解析域名
2. 找本机缓存(查看本机DNS缓存命令：ipconfig/displaydns > C:/dns.txt)
3. 找路由器DNS缓存
4. 找运营商DNS缓存(80%的DNS查找，到这一步结束)
5. 递归查询(查询全球13台DNS根服务器中的一个)

## 进行TCP(协议)连接，三次握手

1. 第一次握手：浏览器发给服务器，我想和你说话，你能听见吗？
2. 第二次握手：由服务器发给浏览器，我能听见，你说吧！
3. 第三次握手：由浏览器发给服务器，好，那我开始说话了。

## 发送请求(请求报文)

## 得到响应(响应报文)

## 浏览器开始解析html

- 预解析：将所有外部资源，发请求
- 解析html，生成DOM树
- 解析CSS，生成CSS树
- 合并为一个渲染树(render)
- js是否操作DOM或样式
  - 有 ----- 重绘重排
  - 没有 --- null
- 显示展示界面

## 断开TCP连接，四次挥手(确保数据的完整性)

- 第一次挥手：有浏览器发给服务器，我的东西接收完了，你断开吧
- 第二次挥手：有服务器发给浏览器，还有一些东西没有接收完，你等一会，我接收好了告诉你，如果接收完了，验证数据的完整性，验证完了我告诉你
- 第三次挥手：由服务器发给浏览器，我接收(验证)完了，你断开吧
- 第四次挥手：由浏览器发给服务器，好的，那我断开了

## 备注：为什么握手要三次，挥手要四次

- 握手时，还没有进行数据的传输，确保握手就可以了
- 挥手之前，正在进行数据的传输，为了确保数据的完整性，必须多经历一次验证(继续接收)
